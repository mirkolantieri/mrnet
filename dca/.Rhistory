setwd('~/Documenti/GitHub/test/')
install.packages('rmda')
library(rmda)
meniscus_lab <- read.csv2('./results (model auc)/Complex/complex-abnormal-label.csv')
View(meniscus_lab)
meniscus_lab <- read.csv2('./results (model auc)/Complex/complex-abnormal-label.csv', sep = ',')
meniscus_lab <- read.csv2('./results (model auc)/Complex/complex-meniscus-label.csv', sep = ',')
meniscus_pred <- read.csv2('./results (model auc)/Complex/complex-meniscus-prediction.csv', sep = ',')
head(meniscus_lab)
meniscus <- merge(meniscus_lab, meniscus_pred, by.x = "Score", by.y = "Score", all.x = TRUE, all.y = FALSE)
View(meniscus)
meniscus <- merge(meniscus_lab, meniscus_pred, by.x = meniscus_lab$Score, by.y = meniscus_pred$Score, all.x = TRUE, all.y = FALSE)
Score.x
meniscus$Score.x
set.seed(123)
baseline.model <- decision_curve(meniscus$Score.x + meniscus$Score.y,)
baseline.model <- decision_curve(meniscus$Score.x + meniscus$Score.y,
data = meniscus,
policy = "opt-in",
bootstraps = 50)
baseline.model <- decision_curve(meniscus$Case ~ meniscus$Score.x + meniscus$Score.y,
data = meniscus,
policy = "opt-in",
bootstraps = 50)
baseline.model <- decision_curve(meniscus$Score.x ~ meniscus$Score.y,
data = meniscus,
policy = "opt-in",
bootstraps = 50)
baseline.model <- decision_curve(Score.x ~ Score.y,
data = meniscus,
policy = "opt-in",
bootstraps = 50)
baseline.model <- decision_curve(Score.x ~ Score.y,
data = meniscus,
policy = "opt-in",
bootstraps = 50)
plot_decision_curve(baseline.model,  curve.names = "Complex cases - Meniscus class (Model AUC) ")
baseline.model <- decision_curve(Score.x ~ Score.y,
data = abn,
policy = "opt-in",
bootstraps = 50)
# Import library
library(rmda)
# Complex Model AUC
meniscus_lab <- read.csv2('./results (model auc)/Complex/complex-meniscus-label.csv', sep = ',')
meniscus_pred <- read.csv2('./results (model auc)/Complex/complex-meniscus-label.csv', sep = ',')
abn_lab <- read.csv2('./results (model auc)/Complex/complex-abnormal-label.csv', sep = ',')
abn_pred <- read.csv2('./results (model auc)/Complex/complex-abnormal-label.csv', sep = ',')
acl_lab <- read.csv2('./results (model auc)/Complex/complex-acl-label.csv', sep = ',')
acl_pred <- read.csv2('./results (model auc)/Complex/complex-acl-label.csv', sep = ',')
meniscus <- merge(meniscus_lab, meniscus_pred, by.x = meniscus_lab$Score, by.y = meniscus_pred$Score, all.x = TRUE, all.y = FALSE)
abn <- merge(abn_lab, abn_pred, by.x = abn_lab$Score, by.y = abn_pred$Score, all.x = TRUE, all.y = FALSE)
acl <- merge(acl_lab, abn_pred, by.x = acl_lab$Score, by.y = acl_pred$Score, all.x = TRUE, all.y = FALSE)
head(meniscus)
head(abn)
head(acl)
baseline.model <- decision_curve(Score.x ~ Score.y,
data = meniscus,
policy = "opt-in",
bootstraps = 50)
plot_decision_curve(baseline.model,  curve.names = "Complex cases - Meniscus class (Model AUC) ")
baseline.model <- decision_curve(Score.x ~ Score.y,
data = abn,
policy = "opt-in",
bootstraps = 50)
plot_decision_curve(baseline.model,  curve.names = "Complex cases - Abnormal class (Model AUC) ")
baseline.model <- decision_curve(Score.x ~ Score.y,
data = acl,
policy = "opt-in",
bootstraps = 50)
View(baseline.model)
plot_decision_curve(baseline.model,  curve.names = "Complex cases - ACL class (Model AUC) ")
meniscus_lab <- read.csv2('./results (model wu)/Complex/complex-meniscus-label.csv', sep = ',')
meniscus_pred <- read.csv2('./results (model wu)/Complex/complex-meniscus-label.csv', sep = ',')
abn_lab <- read.csv2('./results (model wu)/Complex/complex-abnormal-label.csv', sep = ',')
abn_pred <- read.csv2('./results (model wu)/Complex/complex-abnormal-label.csv', sep = ',')
acl_lab <- read.csv2('./results (model wu)/Complex/complex-acl-label.csv', sep = ',')
acl_pred <- read.csv2('./results (model wu)/Complex/complex-acl-label.csv', sep = ',')
meniscus <- merge(meniscus_lab, meniscus_pred, by.x = meniscus_lab$Score, by.y = meniscus_pred$Score, all.x = TRUE, all.y = FALSE)
abn <- merge(abn_lab, abn_pred, by.x = abn_lab$Score, by.y = abn_pred$Score, all.x = TRUE, all.y = FALSE)
acl <- merge(acl_lab, abn_pred, by.x = acl_lab$Score, by.y = acl_pred$Score, all.x = TRUE, all.y = FALSE)
head(meniscus)
head(abn)
head(acl)
baseline.model <- decision_curve(Score.x ~ Score.y,
data = meniscus,
policy = "opt-in",
bootstraps = 50)
plot_decision_curve(baseline.model,  curve.names = "Complex cases - Meniscus class (Model WU) ")
baseline.model <- decision_curve(Score.x ~ Score.y,
data = abn,
policy = "opt-in",
bootstraps = 50)
plot_decision_curve(baseline.model,  curve.names = "Complex cases - Abnormal class (Model WU) ")
baseline.model <- decision_curve(Score.y ~ Score.x,
data = acl,
policy = "opt-in",
bootstraps = 50)
plot_decision_curve(baseline.model,  curve.names = "Complex cases - ACL class (Model Wu) ")
# Complex Model AUC
meniscus_lab <- read.csv2('./results (model auc)/Complex/complex-meniscus-label.csv', sep = ',')
gc()
# Import library
library(rmda)
# Complex Model AUC
meniscus_lab <- read.csv2('./results (model auc)/Complex/complex-meniscus-label.csv', sep = ',')
meniscus_pred <- read.csv2('./results (model auc)/Complex/complex-meniscus-label.csv', sep = ',')
abn_lab <- read.csv2('./results (model auc)/Complex/complex-abnormal-label.csv', sep = ',')
abn_pred <- read.csv2('./results (model auc)/Complex/complex-abnormal-label.csv', sep = ',')
acl_lab <- read.csv2('./results (model auc)/Complex/complex-acl-label.csv', sep = ',')
acl_pred <- read.csv2('./results (model auc)/Complex/complex-acl-label.csv', sep = ',')
meniscus <- merge(meniscus_lab, meniscus_pred, by.x = meniscus_lab$Score, by.y = meniscus_pred$Score, all.x = TRUE, all.y = FALSE)
abn <- merge(abn_lab, abn_pred, by.x = abn_lab$Score, by.y = abn_pred$Score, all.x = TRUE, all.y = FALSE)
acl <- merge(acl_lab, abn_pred, by.x = acl_lab$Score, by.y = acl_pred$Score, all.x = TRUE, all.y = FALSE)
head(meniscus)
head(abn)
head(acl)
baseline.model <- decision_curve(Score.y ~ Score.x,
data = meniscus,
policy = "opt-in",
bootstraps = 50)
View(acl)
View(abn_lab)
plot_decision_curve(baseline.model,  curve.names = "Complex cases - Meniscus class (Model AUC) ")
baseline.model <- decision_curve(Score.x ~ Score.y,
data = meniscus,
policy = "opt-in",
bootstraps = 50)
plot_decision_curve(baseline.model,  curve.names = "Complex cases - Meniscus class (Model AUC) ")
# Import library
library(rmda)
# Complex Model AUC
meniscus_lab <- read.csv2('./results (model auc)/Complex/complex-meniscus-label.csv', sep = ',')
meniscus_pred <- read.csv2('./results (model auc)/Complex/complex-meniscus-label.csv', sep = ',')
abn_lab <- read.csv2('./results (model auc)/Complex/complex-abnormal-label.csv', sep = ',')
abn_pred <- read.csv2('./results (model auc)/Complex/complex-abnormal-label.csv', sep = ',')
acl_lab <- read.csv2('./results (model auc)/Complex/complex-acl-label.csv', sep = ',')
acl_pred <- read.csv2('./results (model auc)/Complex/complex-acl-label.csv', sep = ',')
meniscus <- merge(meniscus_lab, meniscus_pred, by.x = meniscus_lab$Score, by.y = meniscus_pred$Score)
View(meniscus)
meniscus <- merge(meniscus_lab, meniscus_pred, by="Case")
View(meniscus)
meniscus <- merge(meniscus_lab, meniscus_pred, by="Case", all=TRUE)
View(meniscus)
# Import library
library(rmda)
# Complex Model AUC
meniscus_lab <- read.csv2('./results (model auc)/Complex/complex-meniscus-label.csv', sep = ',')
meniscus_pred <- read.csv2('./results (model auc)/Complex/complex-meniscus-prediction.csv', sep = ',')
abn_lab <- read.csv2('./results (model auc)/Complex/complex-abnormal-label.csv', sep = ',')
abn_pred <- read.csv2('./results (model auc)/Complex/complex-abnormal-prediction.csv', sep = ',')
acl_lab <- read.csv2('./results (model auc)/Complex/complex-acl-label.csv', sep = ',')
acl_pred <- read.csv2('./results (model auc)/Complex/complex-acl-prediction.csv', sep = ',')
meniscus <- merge(meniscus_lab, meniscus_pred, by="Case", all=TRUE)
View(meniscus)
abn <- merge(abn_lab, abn_pred, by = "Case", all=TRUE)
acl <- merge(acl_lab, abn_pred, by = "Case", all=TRUE)
View(acl)
head(meniscus)
head(abn)
head(acl)
baseline.model <- decision_curve(Score.x ~ Score.y,
data = meniscus,
policy = "opt-in",
bootstraps = 50)
plot_decision_curve(baseline.model,  curve.names = "Complex cases - Meniscus class (Model AUC) ")
baseline.model <- decision_curve(Score.x ~ Score.y,
data = meniscus,
policy = "opt-in",
bootstraps = 50)
plot_decision_curve(baseline.model,  curve.names = "Complex cases - Meniscus class (Model AUC) ")
baseline.model <- decision_curve(Score.x ~ Score.y,
data = abn,
policy = "opt-in",
bootstraps = 50)
plot_decision_curve(baseline.model,  curve.names = "Complex cases - Abnormal class (Model AUC) ")
baseline.model <- decision_curve(Score.x ~ Score.y,
data = acl,
policy = "opt-in",
bootstraps = 50)
plot_decision_curve(baseline.model,  curve.names = "Complex cases - ACL class (Model AUC) ")
meniscus_lab <- read.csv2('./results (model wu)/Complex/complex-meniscus-label.csv', sep = ',')
meniscus_pred <- read.csv2('./results (model wu)/Complex/complex-meniscus-prediction.csv', sep = ',')
abn_lab <- read.csv2('./results (model wu)/Complex/complex-abnormal-label.csv', sep = ',')
abn_pred <- read.csv2('./results (model wu)/Complex/complex-abnormal-prediction.csv', sep = ',')
acl_lab <- read.csv2('./results (model wu)/Complex/complex-acl-label.csv', sep = ',')
acl_pred <- read.csv2('./results (model wu)/Complex/complex-acl-prediction.csv', sep = ',')
meniscus <- merge(meniscus_lab, meniscus_pred, by = "Case", all = TRUE)
abn <- merge(abn_lab, abn_pred, by = "Case", all = TRUE)
acl <- merge(acl_lab, abn_pred, by = "Case", all = TRUE)
head(meniscus)
head(abn)
head(acl)
baseline.model <- decision_curve(Score.x ~ Score.y,
data = meniscus,
policy = "opt-in",
bootstraps = 50)
plot_decision_curve(baseline.model,  curve.names = "Complex cases - Meniscus class (Model WU) ")
baseline.model <- decision_curve(Score.x ~ Score.y,
data = abn,
policy = "opt-in",
bootstraps = 50)
plot_decision_curve(baseline.model,  curve.names = "Complex cases - Abnormal class (Model WU) ")
baseline.model <- decision_curve(Score.x ~ Score.y,
data = acl,
policy = "opt-in",
bootstraps = 50)
plot_decision_curve(baseline.model,  curve.names = "Complex cases - ACL class (Model Wu) ")
gc()
# Import library
library(rmda)
# Test set Model AUC
meniscus_lab <- read.csv2('./results (model auc)/Test Set/meniscus-label.csv', sep = ',')
meniscus_pred <- read.csv2('./results (model auc)/Test Set/meniscus-prediction.csv', sep = ',')
abn_lab <- read.csv2('./results (model auc)/Test Set/abnormal-label.csv', sep = ',')
abn_pred <- read.csv2('./results (model auc)/Test Set/abnormal-prediction.csv', sep = ',')
acl_lab <- read.csv2('./results (model auc)/Test Set/acl-label.csv', sep = ',')
acl_pred <- read.csv2('./results (model auc)/Test Set/acl-prediction.csv', sep = ',')
meniscus <- merge(meniscus_lab, meniscus_pred, by="Case", all=TRUE)
abn <- merge(abn_lab, abn_pred, by = "Case", all=TRUE)
acl <- merge(acl_lab, abn_pred, by = "Case", all=TRUE)
head(meniscus)
head(abn)
head(acl)
baseline.model <- decision_curve(Score.x ~ Score.y,
data = meniscus,
policy = "opt-in",
bootstraps = 50)
plot_decision_curve(baseline.model,  curve.names = "Test set cases - Meniscus class (Model AUC) ")
baseline.model <- decision_curve(Score.x ~ Score.y,
data = abn,
policy = "opt-in",
bootstraps = 50)
plot_decision_curve(baseline.model,  curve.names = "Test set cases - Abnormal class (Model AUC) ")
baseline.model <- decision_curve(Score.x ~ Score.y,
data = acl,
policy = "opt-in",
bootstraps = 50)
plot_decision_curve(baseline.model,  curve.names = "Test set cases - ACL class (Model AUC) ")
meniscus_lab <- read.csv2('./results (model wu)/Test Set/meniscus-label.csv', sep = ',')
meniscus_pred <- read.csv2('./results (model wu)/Test Set/meniscus-prediction.csv', sep = ',')
abn_lab <- read.csv2('./results (model wu)/Test Set/abnormal-label.csv', sep = ',')
abn_pred <- read.csv2('./results (model wu)/Test Set/abnormal-prediction.csv', sep = ',')
acl_lab <- read.csv2('./results (model wu)/Test Set/acl-label.csv', sep = ',')
acl_pred <- read.csv2('./results (model wu)/Test Set/acl-prediction.csv', sep = ',')
meniscus <- merge(meniscus_lab, meniscus_pred, by = "Case", all = TRUE)
abn <- merge(abn_lab, abn_pred, by = "Case", all = TRUE)
acl <- merge(acl_lab, abn_pred, by = "Case", all = TRUE)
head(meniscus)
head(abn)
head(acl)
baseline.model <- decision_curve(Score.x ~ Score.y,
data = meniscus,
policy = "opt-in",
bootstraps = 50)
plot_decision_curve(baseline.model,  curve.names = "Test set cases - Meniscus class (Model WU) ")
baseline.model <- decision_curve(Score.x ~ Score.y,
data = abn,
policy = "opt-in",
bootstraps = 50)
plot_decision_curve(baseline.model,  curve.names = "Test set cases - Abnormal class (Model WU) ")
baseline.model <- decision_curve(Score.x ~ Score.y,
data = acl,
policy = "opt-in",
bootstraps = 50)
plot_decision_curve(baseline.model,  curve.names = "Test set cases - ACL class (Model Wu) ")
summary(baseline.model, measure = "NB")
baseline.model <- decision_curve(Score.x ~ Score.y + Case,
data = meniscus,
policy = "opt-in",
bootstraps = 50)
plot_decision_curve(baseline.model,  curve.names = "Test set cases - Meniscus class (Model WU) ")
baseline.model <- decision_curve(Score.x ~ Score.y + Case,
data = abn,
policy = "opt-in",
bootstraps = 50)
plot_decision_curve(baseline.model,  curve.names = "Test set cases - Abnormal class (Model WU) ")
baseline.model <- decision_curve(Score.x ~ Score.y+Case,
data = acl,
policy = "opt-in",
bootstraps = 50)
plot_decision_curve(baseline.model,  curve.names = "Test set cases - ACL class (Model Wu) ")
baseline.model <- decision_curve(Score.x ~ Score.y,
data = acl,
policy = "opt-in",
bootstraps = 50)
plot_decision_curve(baseline.model,  curve.names = "Test set cases - ACL class (Model Wu) ")
